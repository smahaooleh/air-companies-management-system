CREATE SCHEMA `air-company-management-system` DEFAULT CHARACTER SET utf8 ;

#--/*Autogenerated by Spring Data JPA*/
DROP TABLE IF EXISTS `company_types`;
CREATE TABLE `company_types` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

DROP TABLE IF EXISTS `airplane_types`;
CREATE TABLE `airplane_types` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UK_4cbf4gew84hm1k4rcvkp2tw4x` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

DROP TABLE IF EXISTS `air_companies`;
CREATE TABLE `air_companies` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `founded_at` datetime DEFAULT NULL,
  `name` varchar(255) NOT NULL,
  `company_type_id` bigint DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UK_hiqexqpqm1sndbu6it33566u3` (`name`),
  KEY `FKowxyys8d4r9e0ttcnyf2hjpon` (`company_type_id`),
  CONSTRAINT `FKowxyys8d4r9e0ttcnyf2hjpon` FOREIGN KEY (`company_type_id`) REFERENCES `company_types` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

DROP TABLE IF EXISTS `countries`;
CREATE TABLE `countries` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UK_1pyiwrqimi3hnl3vtgsypj5r` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

DROP TABLE IF EXISTS `flight_status`;
CREATE TABLE `flight_status` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UK_a90eu13vw9jgg2i8fycbjadi6` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

DROP TABLE IF EXISTS `airplanes`;
CREATE TABLE `airplanes` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `factory_serial_number` varchar(255) NOT NULL,
  `flight_distance` double DEFAULT NULL,
  `fuel_capacity` double DEFAULT NULL,
  `name` varchar(255) NOT NULL,
  `number_of_flights` int DEFAULT NULL,
  `air_company_id` bigint DEFAULT NULL,
  `airplane_type_id` bigint DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UK_op6m39hnobht73jexruudjsf0` (`factory_serial_number`),
  KEY `FKsnx5fllu72d38u8e7cghe6ofq` (`air_company_id`),
  KEY `FKawbsoppph0sipvmro60fdnwa2` (`airplane_type_id`),
  CONSTRAINT `FKawbsoppph0sipvmro60fdnwa2` FOREIGN KEY (`airplane_type_id`) REFERENCES `airplane_types` (`id`),
  CONSTRAINT `FKsnx5fllu72d38u8e7cghe6ofq` FOREIGN KEY (`air_company_id`) REFERENCES `air_companies` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

DROP TABLE IF EXISTS `flights`;
CREATE TABLE `flights` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `created_at` datetime DEFAULT NULL,
  `delay_started_at` datetime DEFAULT NULL,
  `distance` int DEFAULT NULL,
  `ended_at` datetime DEFAULT NULL,
  `estimated_flight_time` varchar(255) DEFAULT NULL,
  `started_at` datetime DEFAULT NULL,
  `air_company_id` bigint DEFAULT NULL,
  `airplane_id` bigint DEFAULT NULL,
  `departure_country_id` bigint DEFAULT NULL,
  `destination_country_id` bigint DEFAULT NULL,
  `status_id` bigint DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `FK4dg00qjfx5f8hw79i6ebdhluu` (`air_company_id`),
  KEY `FKg5m8ip0f64g1nm42q8bf6s5ak` (`airplane_id`),
  KEY `FKdrghh9r7bfsuj437xc1wkbu0u` (`departure_country_id`),
  KEY `FKokn6fcb15s2hbn3odiqrmn6ge` (`destination_country_id`),
  KEY `FKidii0fa16kousyppakiwjlmsf` (`status_id`),
  CONSTRAINT `FK4dg00qjfx5f8hw79i6ebdhluu` FOREIGN KEY (`air_company_id`) REFERENCES `air_companies` (`id`),
  CONSTRAINT `FKdrghh9r7bfsuj437xc1wkbu0u` FOREIGN KEY (`departure_country_id`) REFERENCES `countries` (`id`),
  CONSTRAINT `FKg5m8ip0f64g1nm42q8bf6s5ak` FOREIGN KEY (`airplane_id`) REFERENCES `airplanes` (`id`),
  CONSTRAINT `FKidii0fa16kousyppakiwjlmsf` FOREIGN KEY (`status_id`) REFERENCES `flight_status` (`id`),
  CONSTRAINT `FKokn6fcb15s2hbn3odiqrmn6ge` FOREIGN KEY (`destination_country_id`) REFERENCES `countries` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


